\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[version=3.21, pagesize, twoside=off, bibliography=totoc, DIV=calc, fontsize=12pt, a4paper]{scrartcl}
\input{preamble/packages}
\input{preamble/redac}
\input{preamble/math_basics}
\input{preamble/math_mine}
%\input{preamble/draw}

\usepackage[authoryear]{natbib}
%I find these settings useful in draft mode. Should be removed for final versions.
	%Which line breaks are chosen: accept worse lines, therefore reducing risk of overfull lines. Default = 200.
		\tolerance=2000
	%Accept overfull hbox up to...
		\hfuzz=2cm
	%Reduces verbosity about the bad line breaks.
		\hbadness 5000
	%Reduces verbosity about the underful vboxes.
		\vbadness=1300

\title{Two-person SCRs in a unified framework}
\author{Name}
%\author{Olivier Cailloux}
\affil{Université Paris-Dauphine, PSL Research University, CNRS, LAMSADE, 75016 PARIS, FRANCE\\
%	\href{mailto:olivier.cailloux@dauphine.fr}{olivier.cailloux@dauphine.fr}
}
%\author{Name3}
%\affil{Affil2}
\hypersetup{
	pdfsubject={},
	pdfkeywords={},
}

\begin{document}
\maketitle

\section{Introduction}
\label{sec:intro}
\section{Basic notions and notation}
Let $N = \set{1, 2}$ be the set of individuals and $\allalts$ be the set of alternatives, with $\card{\allalts} = m\geq 2$. 
Given $i \in N$, let $\ibar \in N \setminus \set{i}$ denote the other individual. Let $\powersetz{\allalts}$ denote the set of non-empty subsets of $\allalts$. Let $\linors$ be the set of linear orders over $\mathcal{A}$. We let $\succ \in \linors$ stand for the preference of an individual, written as $\succ_i$ when it belongs to $i\in N$. We write $\prof =(\succ_1,\succ_2) \in \allprofs$ for a (preference) profile. A social choice rule (SCR) is a function $f: \allprofs → \powersetz{\allalts}$.
Given two SCRs $f$, $f'$, we write $f \subset f'$ to indicate that $f$ is a proper subcorrespondence of $f'$.

An SCR $f$ is anonymous iff $f(\prefi[1], \prefi[2]) = f(\prefi[2], \prefi[1])$ for all $(\succ_1,\succ_2) \in \allprofs$.
An SCR $f$ is neutral iff for all permutations $\sigma$ over $\allalts$ and profile $\prof \in \allprofs$, $\sigma \circ f(\prof) = f(\sigma \circ \prof)$.

Given $j, l \in \N$, let $\intvl{j, l} = [j, l] \cap \N $ denote the interval of integer numbers between $j$ and $l$.
The loss vector of $x$ at $\prof$ is $\lprof(x) \in \intvl{0, m - 1}^N$ that associates to each individual her “loss” resulting of selecting $x$ instead of his favorite alternative, that loss being defined as the number of alternatives that the individual prefers to $x$: $\lprof(x)_i = \card{\set{y \in \allalts \suchthat y \prefi x}}$.
%Let $\bigcup_{k \in \losses}(k^N)$ denote the set of constant loss vectors.
Given two loss vectors $l, l' \in \lvs$, we say that $l$ is strictly smaller than $l'$, $l < l'$, iff $\forall i: l_i ≤ l'_i \land l ≠ l'$. We also write $l ≤ l'$ to denote that $l$ is weakly smaller than $l'$, meaning, strictly smaller or equal. Let $\min_N \lprof(x) = \min_{i \in N} \lprof(x)_i \in \N$ and $\sum_N \lprof(x) = \sum_{i \in N} \lprof(x)_i$ denote, respectively, the minimal loss level and the sum of the losses, considering the loss vector $\lprof(x)$.

Let $\PD = \set{x \in \allalts \suchthat \exists y \text{ s.t. } \lprof(y) < \lprof(x)}$ be the Pareto-dominated alternatives in $\prof$. Let $\PE = \allalts \setminus \PD$ be the Pareto-efficient ones. Let $\PEcl$ denote the class of SCRs picking only Pareto efficient alternatives ($\forall \prof: f(\prof) \subseteq \PE$); 

\section{Four SCRs of the literature}
Given $\prof$ and a loss level $k \in \losses$, define $U(\prof, k) = \set{x \in \allalts \suchthat \lprof(x) ≤ (k, k)}$ as the set of alternatives imposing losses not higher than $k$ for all individuals. We say that such alternatives receive unanimous support at level $k$.
Let $\rhoP = \min \set{k \in \losses \suchthat U(\prof, k) ≠ \emptyset}$ be the least loss level at which some alternative receives unanimous support. By Theorem 1 of \cite{BramsKilgour2001} we have $\forall \prof \in \allprofs$, $\rhoP ≤ \ceil{\frac{m - 1}{2}}$.

Given a profile $\prof \in \allprofs$, let $H(\prof) = \set{x \in \allalts \suchthat \lprof(x) ≤ (\ceil{\frac{m - 1}{2}}, \ceil{\frac{m - 1}{2}})}$ denote the set of alternatives reaching the best half of every individual’s preference. 
In concordance with the ceiling established by Theorem 1 of \cite{BramsKilgour2001}, we use the term “half” to mean the smallest integer $k$ that exceeds $m-k$.

\begin{definition}[First Half (FH)] A SCR satisfies FH if 
	$\forall \prof \in \allprofs,  f(\prof) \subseteq H(\prof)$.
\end{definition}
Let $\FHcl$ denote the class of rules satisfying the First Half (FH) property.



\textbf{Fallback Bargaining} is the SCR $\FB$ that picks all alternatives with unanimous support at $\rhoP$: $\FB(\prof) = U(\prof, \rhoP)$. 

The \textbf{Veto-rank} rule $\VR$ is defined as follows. Each individual vetoes her worst $\floor{\frac{m - 1}{2}}$ alternatives, then the Borda winners among the non vetoed alternatives are picked: $\VR(\prof) = \argmin_{H(\prof)} \sum_N \lprof = \set{x \in H(\prof) \suchthat \forall y \in H(\prof): \sum_N \lprof(x) ≤ \sum_N \lprof(y)}$.

The \textbf{Shortlisting} rule $\SL$ picks the best alternative of individual $1$ that is not among the worst $\floor{\frac{m - 1}{2}}$ alternatives of individual $2$, and the best alternative of $2$ that is not among the worst $\floor{\frac{m - 1}{2}}$ alternatives of $1$. Formally, $\SL(\prof) = \cup_{i \in N} (\argmin_{x \in H^i(\prof)} \lprof(x)_{\ibar})$.

Both $\VR$ and $\SL$ are defined in \cite{Clippel} for $m$ odd only.

The class of \textbf{Pareto-and-veto} rules, $\PVcl$, contains rules parameterized by $v_1, v_2 \in \intvl{0, m - 1}$ with $v_1 + v_2  ≤ m - 1$ where $v_i$ represents the number of alternatives vetoed by individual $i \in N$ (individuals veto the alternatives at the bottom of their preference).
Given $v_i \in \intvl{0, m - 1}$, define $a_i = m - v_i - 1 \in \intvl{0, m - 1}$ as the highest acceptable loss level for individual $i$. For $v=(v_1,v_2)$, the rule $\PVv = \cap_{i \in N}\set{x \in \allalts \suchthat \lprof(x)_i ≤ a_i} \cap \PE$ picks all alternatives in $\PE$ that no individual vetoes. 
The class $\PVcl = \set{\PVv \suchthat v_1, v_2 \in \intvl{0, m - 1} \text{ with } v_1 + v_2 \leq m - 1}$ is the set of those rules, and the class $\PVbcl = \set{\PVv \suchthat v_1, v_2 \in \intvl{0, m - 1} \text{ with } v_1 + v_2 = m - 1}$ is the set of rules where the inequality is binding.

\begin{remark}
    $\FB, \VR, \SL$ and all SCRs in $\PVcl$ are  neutral.
\end{remark}
\begin{remark}
    $\FB$, $\VR$ and $\SL$ are anonymous, while a SCR in $\PVcl$ is anonymous iff $v_1 = v_2$.
\end{remark}
\begin{remark}
    $\VR, \SL, \FB \in \FHcl$.
\end{remark}

We now discuss the relationship of the class $\PVcl$ to the $\FHcl$ property. To this end, we define a particular PV rule which gives equal veto power to both individuals. 

For each $m$, we define $PV^=$ as the $PV^v$ rule with $v_1=v_2$ such that $v_i$ takes the possible highest value that ensures that $PV^v$ is well-defined for each $\prof$. It follows that $v_1=v_2= \floor{\frac{m - 1}{2}}$. This implies that, when $m$ is odd each $v_i=\frac{(m-1)}{2}$ and when $m$ is even each $v_i$ equals $\frac{m}{2}-1$.

\begin{proposition}
    $\PVcl ∩ \FHcl = \set{\PVv \in \PVcl \text{ such that } \abs{v_1 - v_2} ≤ 1}$.
\end{proposition}
\begin{proof}
	We first show that $\PVv \in \PVcl$ satisfies FH iff $\forall i: v_i ≥ \floor{\frac{m - 1}{2}}$, which is equivalent to $\abs{v_1 - v_2} ≤ 1$. 
	
	For the “if” part, note that given any profile, the condition $\forall i: v_i ≥ \floor{\frac{m - 1}{2}}$ suffices to guarantee that $\PVv(\prof) \subseteq H(P)$.
	
	To see the “only if” part, let $v_i < \floor{\frac{m - 1}{2}}$ for some $i$.
	Consider an arbitrary ordering $\prefi$ over $\allalts$, let $\prefiinv$ denote its inverse, and consider the profile $\prof = (\prefi, \prefiinv)$. 
	Observe that, since $v_i < \floor{\frac{m - 1}{2}}$,   $\PVv(\prof)$ will not exclusively pick winners in the first half of voter $i$. 
\end{proof}

\begin{remark}
	When $m$ is odd, $\PVcl ∩ \FHcl = \{PV^=\}$. 
	When $m$ is even, $\PVcl ∩ \FHcl = \{PV^=\}\cup \{\PVv \in \PVcl \suchthat v_i=(m/2), v_{\ibar}=(m/2)-1 \forall i\in \{1,2\}\} $.
\end{remark}

We now establish the relationship of  $\VR, \SL, \FB$ to the class $\PVcl$. Considering two SCRs $f$ and $f'$, let $f \cup f'$ denote the rule $(f \cup f')(\prof) = f(\prof) \cup f'(\prof)$. 
Given any non empty class of SCRs $F$, let $\bigcup F$ denote the maximal (least resolute) SCR that can be formed by unions of rules of $F$.



\begin{proposition}
	$\bigcup(\PEcl \cap \FHcl) = \PVe$.
\end{proposition}
\begin{proof}
    Note that $\bigcup(\PEcl \cap \FHcl)$ is, by definition, the SCR that, for each profile, picks all Pareto alternatives that are in the first half of both players' preferences and only those alternatives. We thus have to show that $\forall \prof: \PVe(\prof) = \PE \cap H(\prof)$. By definition of $\PVe$, it suffices to prove that $\cap_i\set{x \in \allalts \suchthat \lprof(x)_i ≤ m - \floor{\frac{m - 1}{2}} - 1} = H(\prof)$. This in turn follows from the definition of $H(\prof)$.
\end{proof}


\begin{proposition}
 A SCR $F \in \PEcl \cap \FHcl$ if and only if $F\subseteq PV^=$.
\end{proposition}

\begin{proof}
Observe that, by construction, $PV^=$ selects all alternatives that are both $PE$ and $FH$, which directly implies the claim.
\end{proof}
 \commentRS{Revise the statement of the above proposition so as to state that F is not $PV^=$ and add a proof} 
 \color{blue} Please check \color{black}

\begin{corollary}
   	$\SL, \VR, \FB \subset PV^=$
\end{corollary}

Now, We observe that $\VR$, $\SL$ and $\FB$ can pick disjoint winners.
\begin{proposition}
	$\exists \prof \suchthat \VR(\prof) \cap \SL(\prof) = \emptyset, \VR(\prof) \cap \FB(\prof) = \emptyset, \SL(\prof) \cap \FB(\prof) = \emptyset$.
\end{proposition}
\begin{proof}
	Consider the following profile $\prof$:
	\begin{equation}
        \begin{array}{llll lll | llll ll}
                a&b&c&d&e&f&g&h&i&j&k&l&m\\
                g&h&i&d&b&j&a&c&e&f&k&l&m\\
        \end{array},
    \end{equation}
    where the first individual prefers $a$ to $b$, $b$ to $c$, and so on, and the second individual prefers $g$ to $h$, $h$ to $i$, and so on. 
    The bar denotes the “half” position.
    The proposition is proven by noting that $\VR(\prof) = \set{b}, \SL(\prof) = \set{a, g}, \FB(\prof) = \set{d}$.
\end{proof}


\commentOC{Say that PVe is the FH; SL is max max among the FH; VR maximizes the sum of gains; and FB maximizes the min gain.}

\commentRS{Below are characterizations}
PV-e iff PE, FH, MAskin monotonicity

I recall from a paper of Vincent that FB is characterized by using a Rawlsian maximin axiom plus maximality 

For SL and VR we should look at Clippel. 

\color{green} MN: no characterization of VR to the best of my knowledge \color{black}

Sertel shows (says Danilo Coelho) that the unanimous compromise set (the FB winners?) is the set of Pareto efficient candidates that maximize the worst-of welfare (welfare = nb alternatives less good than the chosen one). \color{green} MN: This is true, right? \color{black}



\section{New SCRs}
\subsection{Based on equal loss}
\begin{definition}[Equal loss (EL)]
\color{green}	$f$ picks some alternative ranked the same by everybody, if any. \color{black}
\end{definition}
\begin{definition}[Paretian equal loss (PEL)]
	$f$ must pick solely the alternative ranked the same by everybody and that is efficient, if there is one.
\end{definition}
\begin{definition}[Paretian compromism compatibility (PCC)]
	Define $\Sigma = \set{\sigma \in (\R^+)^{(\lvs)} \suchthat \sigma^{-1}(0) = \cup_{k \in \losses}(k^N)}$ be the set of all spread measures that attribute the minimal inequality measure to the constant loss vectors and none others.
	\commentOC{Could we perhaps define sigma as a weak order over the loss vectors?}
	$f$ is PCC iff there exists a spread measure $\sigma \in \Sigma$ such that $\forall \prof: f(\prof) \cap \minspread[\PE] ≠ \emptyset$.
\end{definition}

Call the dispersion of a loss vector $l$ at $\prof$ the value $d(l) = \abs{l_1 - l_2}$. 
Note that $d \in \Sigma$ and seems to coincide with multiple commonly used spread measures (to be verified). 
Thus, $(d \circ \lprof)(x) = \max\lprof(x) - \min\lprof(x)$.
\begin{definition}[Dispersion compromism]
	$\forall \prof: f(\prof) \subseteq \mindisp[\PE]$.
\end{definition}

\begin{definition}[Dispersion phobia]
	If $x$ has a strictly higher dispersion than $y$ at $\prof$, then $f$ may not pick $x$.
\end{definition}
\begin{definition}[Loss vector comparing (LVC)]
	Let $\succeq$ be a weak order on $\lvs$. The rule $f^\succeq$ selects all alternatives whose loss vectors are minimal elements of $\restr{{\succeq}}{\lprof(\alts)}$. A rule satisfies LVC iff $\exists {\succeq} \suchthat f = f^\succeq$. (This property is called preorder based in Cailloux and Endriss 2014.)
\end{definition}

\commentOC{I do not understand this.}
A stronger version of PEL is what we used in the paper with Beatrice. Fix a set SIGMA of “acceptable” equality measures and ask from F to always pick an alternative with equal loss according to some member of SIGMA. This is stronger than PEL because being “acceptable” requires that an alternative at the same rank for both players as the most equal loss.

$Paretianism ∩ EL = \emptyset$.



\begin{proposition}
VR, SL, and all rules in PV fail PEL
\end{proposition}
\begin{proposition}
FB satisfies PEL
\end{proposition}


PV, FB, SL and VR, all fail strong PEL. 

In fact, strong PEL and FH are incompatible conditions. 


What are interesting rules that satisfy this stronger version of PEL? 

As Matias suggested, can we use strong PEL to refine VR, SL or FB?

Can we identify an interesting SCR that satisfies strong PEL?

\subsection{Based on refining}
Discuss how discriminative the four rules are. ll four rules are irresolute. Do they have refinements that are anonymous and neutral? The answer is obviously affirmative for PV (as the remaining three rules do the job) but should be addressed for FB, SL and VR. 
The Theorem, stated at the end of page 4 (\hrefblue{https://link.springer.com/article/10.1007/BF00187429}{Sprumont}), is about refinements of FB. It says that FB admits refinements that satisfy the two conditions of the paper, namely CPB and SO. Moreover, any rule that satisfies CPB and SO is a refinement of FB.

We can refer to this when we address the question of refining FB, SL and VR.









\subsection{Rules we invent}
Anonymized PV rules
PV when the sum of vetoes is less than m-1
\section{Miscellaneous comments}
I proposed: [VR selects equal loss ⇒ VR selects all alternatives with "almost equal loss"], but this is contradicted by: (abc; cba).


Danilo Coelho seems to be interested in implementation of FB and shortlisting and related rules (see the \href{https://www.cmss.auckland.ac.nz/2020/06/03/online-social-choice-seminar-series/}{Online Social Choice Seminar})

\color{green}MN: Yes, I agree. By the way, in his paper, he cites a paper by Clippel with a new characterization of Fallback, we might want to cite it.\color{black}

%\bibliography{bibl}

\appendix

I restore here a consideration by Remzi.

\begin{remark}[Consideration]
Now, suppose, under a given sigma, we pick among the PV alternatives the one with the smallest loss spread. For example, at the profile 
\begin{center}
	$
	\begin{array}{cccccc}
		\mathbf{i_1} \quad &a&b&c&d&e\\
		\mathbf{i_2} \quad &d&c&a&b&e\\
	\end{array}
	$
\end{center}

PV would pick a-c and the approach suggest, under a reasonable sigma, would refine this to the singleton c (which is also a refinement of FB).

Question: what is this new rule? It refines PV. It is not FB. At the profile

\begin{center}
	$
	\begin{array}{cccccc}
		\mathbf{i_1} \quad &a&b&c&d&e\\
		\mathbf{i_2} \quad &c&b&a&d&e\\
	\end{array}
	$
\end{center}

PV picks a-b-c, this rule refines it to b (which is the FB outcome) while SL picks a-c.
\end{remark}
 \bibliographystyle{plainnat}
\bibliography{bibliototal}

\end{document}

